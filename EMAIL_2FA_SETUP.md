# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email 2FA –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Å—Ç—Ä–∞–Ω —Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º Telegram

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:

### 1. **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω—É –ø–æ IP
- –î–ª—è —Å—Ç—Ä–∞–Ω –≥–¥–µ Telegram –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (üá®üá≥ –ö–∏—Ç–∞–π, üáÆüá∑ –ò—Ä–∞–Ω, üáßüáæ –ë–µ–ª–∞—Ä—É—Å—å –∏ –¥—Ä.) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è Email 2FA

### 2. **Email-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ backend**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ñ—É–Ω–∫—Ü–∏—é `auth-security`:
  - `email_send` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –Ω–∞ email
  - `email_verify` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
  - HTML-—à–∞–±–ª–æ–Ω –∫—Ä–∞—Å–∏–≤–æ–≥–æ –ø–∏—Å—å–º–∞ —Å –∫–æ–¥–æ–º

### 3. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è Email 2FA**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `EmailAuth.tsx` —Å –¥–≤—É–º—è —à–∞–≥–∞–º–∏:
  1. –í–≤–æ–¥ email –∞–¥—Ä–µ—Å–∞
  2. –í–≤–æ–¥ –∫–æ–¥–∞ –∏–∑ –ø–∏—Å—å–º–∞ (6 —Ü–∏—Ñ—Ä)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Å—Ç—Ä–∞–Ω —Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º Telegram

### 4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- –ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ 2FA: Telegram –∏–ª–∏ Email
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Email –¥–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞

---

## üåç –°—Ç—Ä–∞–Ω—ã —Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º Telegram:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Email 2FA:
- üá®üá≥ **–ö–∏—Ç–∞–π** (CN)
- üáÆüá∑ **–ò—Ä–∞–Ω** (IR)
- üáßüáæ **–ë–µ–ª–∞—Ä—É—Å—å** (BY)
- üá∞üáµ **–°–µ–≤–µ—Ä–Ω–∞—è –ö–æ—Ä–µ—è** (KP)
- üáπüá≤ **–¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω** (TM)
- üá∫üáø **–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω** (UZ)
- üáµüá∞ **–ü–∞–∫–∏—Å—Ç–∞–Ω** (PK)
- üáßüá© **–ë–∞–Ω–≥–ª–∞–¥–µ—à** (BD)
- üáÆüá© **–ò–Ω–¥–æ–Ω–µ–∑–∏—è** (ID)
- üáπüá≠ **–¢–∞–∏–ª–∞–Ω–¥** (TH)

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ Email

### –°–µ–π—á–∞—Å –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å 4 —Å–µ–∫—Ä–µ—Ç–∞:

#### **1. SMTP_HOST** (–∞–¥—Ä–µ—Å SMTP —Å–µ—Ä–≤–µ—Ä–∞)
–ü—Ä–∏–º–µ—Ä—ã:
- **Gmail**: `smtp.gmail.com`
- **Mail.ru**: `smtp.mail.ru`
- **Yandex**: `smtp.yandex.ru`
- **Outlook**: `smtp-mail.outlook.com`

#### **2. SMTP_PORT** (–ø–æ—Ä—Ç)
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- **587** - –¥–ª—è TLS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **465** - –¥–ª—è SSL
- **25** - –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### **3. SMTP_USER** (–≤–∞—à email)
–ü—Ä–∏–º–µ—Ä: `your-email@gmail.com`

#### **4. SMTP_PASSWORD** (–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

---

## üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é SMTP –¥–∞–Ω–Ω—ã—Ö:

### –í–∞—Ä–∏–∞–Ω—Ç 1: Gmail (Google) ‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://myaccount.google.com/apppasswords
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç Google
   - –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (–µ—Å–ª–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞)
   - –í—ã–±–µ—Ä–∏—Ç–µ "–ü–æ—á—Ç–∞" –∏ "–î—Ä—É–≥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ"
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ "poehali-logistics"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å (16 —Å–∏–º–≤–æ–ª–æ–≤)

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   ```
   SMTP_HOST: smtp.gmail.com
   SMTP_PORT: 587
   SMTP_USER: your-email@gmail.com
   SMTP_PASSWORD: [–ø–∞—Ä–æ–ª—å –∏–∑ —à–∞–≥–∞ 1]
   ```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Mail.ru

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞
   - –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–∫–ª—é—á–∏—Ç–µ "–î–æ—Å—Ç—É–ø –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   ```
   SMTP_HOST: smtp.mail.ru
   SMTP_PORT: 587
   SMTP_USER: your-email@mail.ru
   SMTP_PASSWORD: [–≤–∞—à –ø–∞—Ä–æ–ª—å –æ—Ç Mail.ru]
   ```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: Yandex

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://passport.yandex.ru/profile
   - –†–∞–∑–¥–µ–ª "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" ‚Üí "–ü–∞—Ä–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è "–ü–æ—á—Ç–∞"

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   ```
   SMTP_HOST: smtp.yandex.ru
   SMTP_PORT: 587
   SMTP_USER: your-email@yandex.ru
   SMTP_PASSWORD: [–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ —à–∞–≥–∞ 1]
   ```

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –†–æ—Å—Å–∏–∏
1. –ó–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∞ (RU)
2. –í –ø—Ä–æ—Ñ–∏–ª–µ ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
3. –í–∏–¥–∏—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: **Telegram** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏ **Email**
4. –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –º–µ—Ç–æ–¥

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –ö–∏—Ç–∞—è
1. –ó–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∞ (CN)
2. –í –ø—Ä–æ—Ñ–∏–ª–µ ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
3. –í–∏–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: *"Telegram –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ö–∏—Ç–∞–π"*
4. **Email –º–µ—Ç–æ–¥ –≤–∫–ª—é—á—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** (Telegram –∑–∞–¥–∏–∑–µ–π–±–ª–µ–Ω)
5. –ü—Ä–∏ –∫–ª–∏–∫–µ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Email 2FA":
   - –í–≤–æ–¥–∏—Ç —Å–≤–æ–π email
   - –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–¥ –Ω–∞ –ø–æ—á—Ç—É
   - –í–≤–æ–¥–∏—Ç –∫–æ–¥ (6 —Ü–∏—Ñ—Ä)
   - –ì–æ—Ç–æ–≤–æ! ‚úÖ

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–µ–∑ SMTP):

–î–∞–∂–µ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
2. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–¥–∞ —É–≤–∏–¥–∏—Ç–µ:
   ```
   –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥: 123456
   ```
3. –í–≤–µ–¥–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏

---

## üìÇ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

### Backend:
- ‚úÖ `backend/auth-security/index.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã `email_send` –∏ `email_verify`

### Frontend:
- ‚úÖ `src/components/EmailAuth.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç email-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ `src/utils/countryDetection.ts` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- ‚úÖ `src/pages/Profile.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∫–ª–∞–¥–∫–∏ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- ‚úÖ `.env` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:
```env
VITE_YANDEX_MAPS_API_KEY=your_yandex_maps_api_key_here
```
–ù–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á —Å https://developer.tech.yandex.ru/

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP —Å–µ–∫—Ä–µ—Ç—ã
–ó–∞–ø–æ–ª–Ω–∏—Ç–µ 4 —Å–µ–∫—Ä–µ—Ç–∞ —á–µ—Ä–µ–∑ UI:
- SMTP_HOST
- SMTP_PORT
- SMTP_USER
- SMTP_PASSWORD

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ü—Ä–æ—Ñ–∏–ª—å" ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
3. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Email 2FA"
4. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–¥

---

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤–∞—à–∏–º –∫–ª—é—á–æ–º
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ —Å—Ç—Ä–∞–Ω —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π Telegram –∏—Å–ø–æ–ª—å–∑—É—é—Ç Email
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å –º–µ—Ç–æ–¥
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ HTML-–ø–∏—Å—å–º–∞ —Å –∫–æ–¥–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞ 2FA

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- –ö–æ–¥—ã –¥–µ–π—Å—Ç–≤—É—é—Ç **10 –º–∏–Ω—É—Ç**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ backend
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ SMTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (TLS)
- –°–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ–µ–∫—Ç–∞
